(function(){"use strict";var e={4471:function(e,t,s){var i=s(9242),o=s(3396);function n(e,t,s,i,n,a){const r=(0,o.up)("router-link"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",null,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Synth")])),_:1}),(0,o.Uk)(" | "),(0,o.Wm)(r,{to:"/about"},{default:(0,o.w5)((()=>[(0,o.Uk)("About")])),_:1})]),(0,o.Wm)(l)],64)}var a={mounted(){}},r=s(89);const l=(0,r.Z)(a,[["render",n]]);var d=l,h=s(2483);const c={class:"mainHost"};function u(e,t,s,i,n,a){const r=(0,o.up)("OscHost"),l=(0,o.up)("FilterHost"),d=(0,o.up)("FxHost"),h=(0,o.up)("ToolHost"),u=(0,o.up)("ModHost"),p=(0,o.up)("PianoKeyboard");return(0,o.wg)(),(0,o.iD)("div",{class:"appContainer",onMouseup:t[0]||(t[0]=(...e)=>a.handleMouseUp&&a.handleMouseUp(...e)),onMousemove:t[1]||(t[1]=(...e)=>a.handleMouseMove&&a.handleMouseMove(...e))},[(0,o._)("div",c,[(0,o.Wm)(r,{ref:"oscHost",onClaim:a.handleClaim},null,8,["onClaim"]),(0,o.Wm)(l,{ref:"filterHost",onFilterInitialized:a.initOscConnections},null,8,["onFilterInitialized"]),(0,o.Wm)(d),(0,o.Wm)(h,{ref:"toolsHost"},null,512),(0,o.Wm)(u,{ref:"modHost",onInitADSR:e.handleInitADSR,onDragging:a.handleDragging},null,8,["onInitADSR","onDragging"]),(0,o.Wm)(p,{ref:"pianoKeyboard",onNoteDown:a.noteDownHandle,onNoteUp:a.noteUpHandle},null,8,["onNoteDown","onNoteUp"])])],32)}var p=s(4481);const m={class:"oscHost"},g={class:"scrollable"};function f(e,t,s,i,n,a){const r=(0,o.up)("Osc");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.oscList,(e=>((0,o.wg)(),(0,o.j4)(r,{key:e.id,ref_for:!0,ref:e.ref,id:e.id,onDisposed:a.removeOsc,onClaim:a.handleClaim},null,8,["id","onDisposed","onClaim"])))),128)),(0,o._)("div",{class:"oscVoid",onClick:t[0]||(t[0]=(...e)=>a.addOsc&&a.addOsc(...e))},"+"),this.oscList.length<=1?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"oscVoid",onClick:t[1]||(t[1]=(...e)=>a.addOsc&&a.addOsc(...e))},"+")):(0,o.kq)("",!0)])])}s(541),s(7658);var v=s(7139),y=s.p+"img/sine.83ad3f35.svg",w=s.p+"img/triangle.a36c63c6.svg",_=s.p+"img/saw.fcf7fa8d.svg",k=s.p+"img/square.c0eea307.svg";const b=e=>((0,o.dD)("data-v-7e56effc"),e=e(),(0,o.Cn)(),e),M={class:"osc"},D={class:"osc_back"},x={class:"osc_middle"},I={class:"osc_front"},C=b((()=>(0,o._)("div",{class:"front_area"},null,-1))),P={key:0,src:y,alt:""},F={key:1,src:w,alt:""},L={key:2,src:_,alt:""},U={key:3,src:k,alt:""},O=b((()=>(0,o._)("div",null,null,-1))),T=b((()=>(0,o._)("div",null,null,-1)));function z(e,t,s,n,a,r){return(0,o.wg)(),(0,o.iD)("div",{class:"main_container",onClick:t[11]||(t[11]=(0,i.iM)(((...e)=>r.dispose&&r.dispose(...e)),["shift"]))},[(0,o._)("div",{class:"type_button",onClick:t[0]||(t[0]=(...e)=>r.nextOscType&&r.nextOscType(...e)),style:(0,v.j5)(this.type_button)},[(0,o._)("div",{class:"innertext",style:(0,v.j5)(this.type_text)},(0,v.zw)(""===a.osc_types[!0]?"std":a.osc_types[this.oscTypeIndex]),5)],4),(0,o._)("div",{class:"osc_container",style:(0,v.j5)(r.osc_container)},[(0,o._)("div",M,[(0,o._)("div",D,[(0,o._)("div",{class:"mod_area",style:(0,v.j5)(this.mod_area)},null,4),(0,o._)("div",{class:"volume_area",style:(0,v.j5)(this.volume_area)},null,4),(0,o._)("div",{class:"pitch_slider",style:(0,v.j5)(this.pitch_slider)},null,4)]),(0,o._)("div",x,[(0,o._)("div",{class:"mod_slider",ref:"modulation",style:(0,v.j5)(this.mod_slider)},null,4),(0,o._)("div",{class:"volume_slider",ref:"volume",style:(0,v.j5)(this.volume_slider)},null,4)]),(0,o._)("div",I,[C,(0,o._)("div",{class:"pitch_hand",ref:"pitch",style:(0,v.j5)(this.pitch_hand)},null,4)]),(0,o._)("div",{class:"draggable left",onMouseup:t[1]||(t[1]=e=>r.handleDrop("mod")),onMousedown:t[2]||(t[2]=(...e)=>r.modulationDown&&r.modulationDown(...e))},null,32),(0,o._)("div",{class:"draggable right",onMouseup:t[3]||(t[3]=e=>r.handleDrop("vol")),onMousedown:t[4]||(t[4]=(...e)=>r.volumeDown&&r.volumeDown(...e))},null,32),(0,o._)("div",{class:"draggable low",onMouseup:t[5]||(t[5]=e=>r.handleDrop("pitch")),onMousedown:t[6]||(t[6]=(...e)=>r.pitchDown&&r.pitchDown(...e))},null,32),(0,o._)("div",{class:"osc_wave",onClick:t[7]||(t[7]=(...e)=>r.nextWaveform&&r.nextWaveform(...e)),style:(0,v.j5)(this.osc_wave)},[0===this.oscWaveIndex?((0,o.wg)(),(0,o.iD)("img",P)):(0,o.kq)("",!0),1===this.oscWaveIndex?((0,o.wg)(),(0,o.iD)("img",F)):(0,o.kq)("",!0),2===this.oscWaveIndex?((0,o.wg)(),(0,o.iD)("img",L)):(0,o.kq)("",!0),3===this.oscWaveIndex?((0,o.wg)(),(0,o.iD)("img",U)):(0,o.kq)("",!0)],4)])],4),(0,o._)("div",{class:"chain_buttons",style:(0,v.j5)(r.chain_buttons)},[O,(0,o._)("div",{class:"button_1",style:(0,v.j5)(r.button_1),onClick:t[8]||(t[8]=e=>this.onChainclick(0))},null,4),(0,o._)("div",{class:"button_2",style:(0,v.j5)(r.button_2),onClick:t[9]||(t[9]=e=>this.onChainclick(1))},null,4),(0,o._)("div",{class:"button_3",style:(0,v.j5)(r.button_3),onClick:t[10]||(t[10]=e=>this.onChainclick(2))},null,4),T],4)])}var N=s(686),j=s(2335),H=s(9959),S=s(3255);const R=50,$=2;class E{constructor(e="",t=null,s=16){this.destination=t,this.modulatorsData={envelope:{vol:{amount:1,parameters:{attack:1,decay:.3,sustain:.8,release:1}},mod:{amount:0,parameters:{attack:.05,decay:.1,sustain:1,release:.2}},pitch:{amount:0,parameters:{attack:.05,decay:.1,sustain:1,release:.2}},pan:{amount:0,parameters:{attack:.05,decay:.1,sustain:1,release:.2}}},lfo:{vol:{amount:0,parameters:{frequency:10,min:0,max:1}},mod:{amount:0,parameters:{frequency:10,min:0,max:1}},pitch:{amount:0,parameters:{frequency:10,min:0,max:1}},pan:{amount:0,parameters:{frequency:10,min:0,max:1}}}},this.synthPreset={type:e,waveform:"sine",vol:-12,transpose:0,mod:0,partials:"",pan:""},this.dampNode=new p.S9($),console.log(p.xz(this.synthPreset.vol)),this.gainNode=new p.S9(p.xz(this.synthPreset.vol)),this.allVoices=[],this.freeVoices=[],this.busyVoices={},this.nVoices=s,this.lastNotes=Array(this.nVoices),this.initVoices();try{this.gainNode.connect(this.dampNode),this.dampNode.connect(this.destination)}catch(i){console.log("mypolysynth gain node trying to connect to undefined or null node - error: "+i)}}initVoices(){for(let e=0;e<this.nVoices;e++){let e={envelope:{vol:{amount:1,signal:null},mod:{amount:0,signal:null},pitch:{amount:0,signal:null},pan:{amount:0,signal:null}},lfo:{vol:{amount:0,signal:null},mod:{amount:0,signal:null},pitch:{amount:0,signal:null},pan:{amount:0,signal:null}}},t=new p.S9(1).connect(this.gainNode),s=this.createSynth();s.oscillator.disconnect(),s.oscillator.connect(t),s.envelope.disconnect(),s.envelope.dispose();let i={synth:s,gain:t,modulators:e};for(let o in e)for(let t in e[o])if(e[o][t].amount>0){let s=this.createModulator(o);e[o][t].signal=s,this.connectModulator(s,o,t,i)}this.freeVoices.push(i),this.allVoices.push(i)}this.initialized=!1,this.updateModulators(),this.initialized=!0}playNote(e,t){if(this.initialized){this.lastNotes.push(e),this.lastNotes.length>this.nVoices&&(this.lastNote=this.lastNotes.shift());let s=this.freeVoices.shift();s||(console.log("NEW NOTE OVERWRITE: "+this.lastNote),s=this.busyVoices[this.lastNote],delete this.busyVoices[this.lastNote]),this.busyVoices[e]=s;for(let e in s.modulators)for(let t in s.modulators[e])if(s.modulators[e][t].signal)switch(e){case"envelope":s.modulators[e][t].signal.cancel(p.zO()),s.modulators[e][t].signal.triggerAttack(p.zO());break;case"lfo":s.modulators[e][t].signal.stop(p.zO()),s.modulators[e][t].signal.start(p.zO());break;default:break}s.synth.oscillator.stop(p.zO()),s.synth.envelope.cancel(p.zO()),s.synth.triggerAttack(e,p.zO(),t/128)}}stopNote(e){if(this.initialized&&this.busyVoices[e]){let t=this.busyVoices[e];delete this.busyVoices[e],this.freeVoices.push(t);for(let e in t.modulators)for(let s in t.modulators[e])if(t.modulators[e][s].signal)switch(e){case"envelope":t.modulators[e][s].signal.triggerRelease(p.zO());break;case"lfo":t.modulators[e][s].signal.stop(p.zO());break;default:break}setTimeout((()=>{t.synth.triggerRelease(p.zO())}),1e3*this.modulatorsData.envelope.vol.parameters.release)}}createSynth(){let e=new p.WV;return(0,o.Y3)((()=>{e.set({volume:this.synthPreset.vol,detune:100*this.synthPreset.transpose,oscillator:{type:this.synthPreset.type+this.synthPreset.waveform+this.synthPreset.partials}})})),console.log(this.synthPreset.type+this.synthPreset.waveform+this.synthPreset.partials),e}createModulator(e){switch(e){case"envelope":return new p.wr;case"lfo":return new p.Fo;default:return console.log("Error creating modulator"),null}}updateModulators(){this.allVoices.forEach((e=>{for(let t in e.modulators)for(let s in e.modulators[t])e.modulators[t][s].amount=this.modulatorsData[t][s].amount,e.modulators[t][s].amount>0?(e.modulators[t][s].signal||(e.modulators[t][s].signal=createModulator(t),connectModulator(e.modulators[t][s].signal,t,s,e)),this.modulatorSetter(e.modulators[t][s].signal,t,this.modulatorsData[t][s].parameters)):e.modulators[t][s].signal&&(e.modulators[t][s].signal.disconnect(),e.modulators[t][s].signal.dispose())}))}updateSynths(){this.allVoices.forEach((e=>{e.synth.set({detune:100*this.synthPreset.transpose,oscillator:{type:this.synthPreset.type+this.synthPreset.waveform+this.synthPreset.partials}})})),this.gainNode.set({gain:p.xz(this.synthPreset.vol)})}modulatorSetter(e,t,s){switch(t){case"envelope":e.set({attack:s.attack,decay:s.decay,sustain:s.sustain,release:s.release+.001});break;case"lfo":e.set({});break;default:console.log("Error setting modulator parameters, invalid args");break}}connectModulator(e,t,s,i){switch(t){case"envelope":switch(s){case"vol":e.connect(i.gain.gain);break;case"mod":break;case"pitch":break;case"pan":break}break;default:console.log("Error setting modulator parameters, invalid args");break}}setModulatorParameters(e,t,s){this.initialized&&(this.modulatorsData[e][t].parameters=s,this.updateModulators())}setModulatorAmount(e,t,s){this.initialized&&(this.modulatorsData[e][t].amount=s,this.updateModulators())}setParameters({volume:e=this.synthPreset.vol,modulation:t=this.synthPreset.mod,transpose:s=this.synthPreset.transpose,pan:i=this.synthPreset.pan,type:o=this.synthPreset.type,waveform:n=this.synthPreset.waveform}){if(this.initialized){switch(this.synthPreset.vol=e,this.synthPreset.mod=t,this.synthPreset.transpose=s,this.synthPreset.pan=i,this.synthPreset.type=o,this.synthPreset.waveform=n,console.log(this.synthPreset.waveform),this.synthPreset.type){default:0===this.synthPreset.modulation?this.synthPreset.partials="":this.synthPreset.partials="sine"===n?(+this.synthPreset.mod*R).toFixed(0).toString():R-(+this.synthPreset.mod*R).toFixed(0).toString();break}console.log("myPolySynth setParameters: \nvol: "+this.synthPreset.vol.toFixed(2)+"\nmod: "+this.synthPreset.mod.toFixed(2)+"\npartials: "+this.synthPreset.partials+"\ntranspose: "+this.synthPreset.transpose+"\npan: "+this.synthPreset.pan+"\ntype: "+this.synthPreset.type+"\nwaveform: "+this.synthPreset.waveform),this.updateSynths()}else console.log("Polysynth not initialized")}connect(e){this.gainNode.connect(e)}disconnectDispose(){this.allVoices.forEach((e=>{e.synth.disconnect(),e.synth.dispose(),e.gain.disconnect(),e.gain.dispose();for(let t in e.modulators)for(let s in e.modulators[t])e.modulators[t][s].signal.disconnect(),e.modulators[t][s].signal.dispose()})),this.gainNode.disconnect(),this.gainNode.dispose(),console.log("MyPolySynth completely disconnected and disposed")}}const V=["sine","triangle","sawtooth","square"],W=["","fm","am","fat"],X={red:{light:"lightcoral",medium:"red",dark:"darkred",glow:"pink"},yellow:{light:"yellow",medium:"orange",dark:"gold",glow:""},green:{light:"lightgreen",medium:"olive",dark:"darkgreen",glow:"aqua"},gray:{light:"lightgray",medium:"darkgray",dark:"black",glow:""},blue:{light:"lightblue",medium:"deepskyblue",dark:"darkblue",glow:"cyan"}};var K={components:{SineIcon:N.Z,SquareIcon:j.Z,TriangleIcon:H.Z,SawtoothIcon:S.Z},data(){return{PLACEHOLDERCOLOR:"red",colors:{red:["lightcoral","red","darkred"],yellow:["string4","string5","string6"],green:["lightgreen","green","string9"]},osc_types:["std","fm","am","fat"],volume:.5,modulation:1,pitch:0,pan:0,attack:.01,decay:.1,sustain:1,release:.2,maxPitch:24,minPitch:-24,partials:"",oscWaveIndex:0,oscTypeIndex:0,waveform_btn_style:"lightblue",wave_icon_size:32,is_modulationDown:!1,is_volumeDown:!1,is_pitchDown:!1,chain_routes:[!0,!1,!1],modulators:[],tempModulator:null}},props:["id"],mounted(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.resizeGraphics),this.resizeGraphics(),this.gainNode=new p.S9,this.synth=new E("",this.gainNode,this.polyphonyVoices),this.synths.list.push(this.synth),console.log(this.synths.list),this.id>1&&this.initConnections()},computed:{osc_container(){return{background:X.red["light"]}},type_button(){return{fontSize:".5vw",background:X.gray["light"]}},type_text(){return{color:X.gray.dark}},volume_area(){return{background:X.red["dark"]}},mod_area(){return{background:X.yellow["light"]}},mod_slider(){return{transform:"rotate(-"+111*this.modulation+"deg)"}},volume_slider(){return{backgroundColor:this.colors.red[1],transform:"rotate("+112*this.volume+"deg)"}},pitch_slider(){return{background:X.green["light"]}},pitch_hand(){return{transform:"rotate("+50*this.pitch/this.maxPitch+"deg)",borderLeft:".1vw solid "+X.green["dark"]}},osc_wave(){return{background:X.yellow["light"]}},chain_buttons(){return{background:X.gray.light}},button_1(){let e="";return e=this.chain_routes[0]?X.red.dark:X.red.light,{background:e}},button_2(){let e="";return e=this.chain_routes[1]?X.green.dark:X.green.light,{background:e}},button_3(){let e="";return e=this.chain_routes[2]?X.blue.dark:X.blue.light,{background:e}}},methods:{dispose(){this.$emit("disposed",this.id),this.synth.disconnectDispose(),this.synths.list.splice(this.synths.list.indexOf(this.synth),1),console.log("Synth to remove is at index: "+this.synths.list.indexOf(this.synth)),console.log("list of synths remaining:"),console.log(this.synths.list)},initConnections(){this.gainNode.connect(this.filterChains[0][0])},resizeGraphics(){let e=document.body.clientWidth;this.wave_icon_size=e>=500?32*e/1500:0},onChainclick(e){console.log("chain click - id: "+e);try{this.chain_routes[e]?(console.log("disconnect from: "+this.filterChains[e][0]+" "+e),this.gainNode.disconnect(this.filterChains[e][0])):(console.log("connect to: "+this.filterChains[e][0]+" "+e),this.gainNode.connect(this.filterChains[e][0]))}catch(t){console.log("error: "+t+"\nCHAIN CONNECTION TO OSC UNSUCCESSFUL. Can't connect to "+this.filterChains[e][0])}this.chain_routes[e]=!this.chain_routes[e]},onMouseMove(e){this.is_volumeDown?(e.movementY<0?this.volume=Math.max(this.volume+e.movementY/100,0):this.volume=Math.min(this.volume+e.movementY/100,1),this.synth.setParameters({volume:(0,p.H2)(1-this.volume)}),console.log("synth volume: "+this.volume.toFixed(2)+" dB")):this.is_modulationDown?(e.movementY<0?this.modulation=Math.max(this.modulation+e.movementY/100,0):this.modulation=Math.min(this.modulation+e.movementY/100,1),this.synth.setParameters({modulation:1-this.modulation}),console.log("modulation: "+(1-this.modulation.toFixed(2)))):this.is_pitchDown&&(e.movementX<0?this.pitch=Math.min(this.pitch-Math.floor(e.movementX),this.maxPitch):e.movementX>0&&(this.pitch=Math.max(this.pitch-Math.floor(e.movementX),this.minPitch)),console.log("pitch shift: "+this.pitch),this.synth.setParameters({transpose:this.pitch}))},onMouseUp(e){this.is_modulationDown&&(this.is_modulationDown=!1),this.is_volumeDown&&(this.is_volumeDown=!1),this.is_pitchDown&&(this.is_pitchDown=!1)},modulationDown(e){this.is_modulationDown||(this.is_modulationDown=!0)},volumeDown(e){this.is_volumeDown||(this.is_volumeDown=!0)},pitchDown(e){this.is_pitchDown||(this.is_pitchDown=!0)},handleDrop(e){let t=[e];t.unshift("osc"+this.id),this.$emit("claim",{type:"claim",path:t,color:this.PLACEHOLDERCOLOR})},nextOscType(){this.oscTypeIndex++,this.oscTypeIndex>=W.length&&(this.oscTypeIndex=0),this.synth.setParameters({type:W[this.oscTypeIndex]}),console.log("osc type: "+W[this.oscTypeIndex])},nextWaveform(){this.oscWaveIndex++,this.oscWaveIndex>=V.length&&(this.oscWaveIndex=0),console.log(V[this.oscWaveIndex]),this.synth.setParameters({waveform:V[this.oscWaveIndex]})},connect(e){this.synth.connect(e)}},unmounted(){window.removeEventListener("resize",this.resizeGraphics),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}};const q=(0,r.Z)(K,[["render",z],["__scopeId","data-v-7e56effc"]]);var A=q,Y=s(4870),Z={components:{Osc:A},data(){return{oscList:[],name:"oscHost",i:0}},mounted(){this.addOsc(),this.addOsc()},methods:{initConnections(){for(let e in this.$refs)(0,Y.IU)(this.$refs[e][0]).initConnections()},handleClaim(e){e.path.unshift(this.name),this.$emit("claim",e)},addOsc(){let e="osc"+this.i;this.oscList.push({id:this.i,ref:e}),console.log("adding osc"+this.i),console.log(this.oscList),this.i+=1},removeOsc(e){console.log("removing oscillator"+e);let t=0;this.oscList.forEach((s=>{s.id===e&&(t=this.oscList.indexOf(s))})),this.oscList.splice(t,1)}},unmounted(){}};const G=(0,r.Z)(Z,[["render",f],["__scopeId","data-v-408dd6fb"]]);var B=G;const J={class:"filterHost"};function Q(e,t,s,i,n,a){const r=(0,o.up)("FilterChain");return(0,o.wg)(),(0,o.iD)("div",J,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.chainList,(e=>((0,o.wg)(),(0,o.j4)(r,{key:e.id,ref_for:!0,ref:e.ref,id:e.id,color:e.color,onFilterInitialized:t[0]||(t[0]=e=>a.initConnections())},null,8,["id","color"])))),128))])}const ee=e=>((0,o.dD)("data-v-e167cf44"),e=e(),(0,o.Cn)(),e),te={class:"filterChain"},se={class:"chainHead",ref:"chainHead"},ie=ee((()=>(0,o._)("div",{class:"chainTail"},null,-1)));function oe(e,t,s,i,n,a){const r=(0,o.up)("Filter");return(0,o.wg)(),(0,o.iD)("div",te,[(0,o._)("div",se,null,512),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.filterList,(e=>((0,o.wg)(),(0,o.j4)(r,{key:e.id,ref_for:!0,ref:e.ref,chainId:this.id,id:e.id,filter_type:e.type,chainColor:this.color,onFiltersMounted:t[0]||(t[0]=e=>this.handleFiltersMounted())},null,8,["chainId","id","filter_type","chainColor"])))),128)),ie])}const ne=e=>((0,o.dD)("data-v-7ce0469a"),e=e(),(0,o.Cn)(),e),ae={class:"filter"},re={class:"filter_back",ref:"filter_back"},le={key:0,class:"logo_text"},de={key:1,class:"logo_text"},he=ne((()=>(0,o._)("div",{class:"logo_border"},null,-1))),ce={class:"logo"},ue={key:0,class:"logo_text_back"},pe={key:3,class:"logo_BD_back"};function me(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",ae,[(0,o._)("div",re,[(0,o._)("div",{class:"filter_logo",onMousedown:t[0]||(t[0]=(...e)=>a.logoDown&&a.logoDown(...e))},[n.is_logoDown&&"peaking"!=n.type?((0,o.wg)(),(0,o.iD)("div",le,(0,v.zw)((100*(1-this.resonance)).toFixed()+"%"),1)):(0,o.kq)("",!0),n.is_logoDown&&"peaking"==n.type?((0,o.wg)(),(0,o.iD)("div",de,(0,v.zw)((100*(1-2*this.resonance)).toFixed()+"%"),1)):(0,o.kq)("",!0),(0,o._)("div",{class:"logo_glow",style:(0,v.j5)(a.computedGlow)},null,4),he,(0,o._)("div",ce,[n.is_logoDown?((0,o.wg)(),(0,o.iD)("div",ue)):(0,o.kq)("",!0),"lowpass"===n.type?((0,o.wg)(),(0,o.iD)("div",{key:1,class:"logo_LP",style:(0,v.j5)(a.computedLP)},null,4)):(0,o.kq)("",!0),"highpass"===n.type?((0,o.wg)(),(0,o.iD)("div",{key:2,class:"logo_HP",style:(0,v.j5)(a.computedHP)},null,4)):(0,o.kq)("",!0),"peaking"===n.type?((0,o.wg)(),(0,o.iD)("div",pe)):(0,o.kq)("",!0),"peaking"===n.type?((0,o.wg)(),(0,o.iD)("div",{key:4,class:"logo_BD_circle",style:(0,v.j5)(a.computedBDCircle)},null,4)):(0,o.kq)("",!0)])],32)],512)])}var ge={props:["filter_type","chainId","chainColor","id"],data(){return{type:this.filter_type,cutoff:.5,resonance:.5,is_logoDown:!1}},mounted(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.filter=new p.wn,this.initFilterParams(),this.filterChains[this.chainId][this.id]=this.filter,this.id===this.nFiltersXchain-1&&this.chainId===this.nFilterChains-1&&this.$emit("filtersMounted")},methods:{onMouseMove(e){this.is_logoDown&&(e.movementY<0?(this.resonance=Math.max(this.resonance+e.movementY/100,0),console.log("moving up")):this.resonance=Math.min(this.resonance+e.movementY/100,1),e.movementX<0?this.cutoff=Math.max(this.cutoff+Math.floor(e.movementX)/100,0):e.movementX>0&&(this.cutoff=Math.min(this.cutoff+Math.floor(e.movementX)/100,1)),this.setResonance(),this.setCutoff())},onMouseUp(){this.is_logoDown&&(this.is_logoDown=!1),document.body.style.cursor="pointer"},logoDown(){this.is_logoDown||(this.is_logoDown=!0,document.body.style.cursor="none")},cutoffLogMapping(e){if(!(e<0||e>1))return 20*Math.pow(10,Math.log10(1100)*e);console.error("Input value must be between 0 and 1.")},resonanceRangeNormalizer(e,t){if(e<0||e>1)console.error("Input value must be between 0 and 1.");else switch(t){case"lowpass":return 15*e;case"highpass":return 15*e;case"peaking":return 30*(e-.5);default:break}},initFilterParams(){let e=this;switch(this.filter_type){case"lowpass":this.cutoff=1,this.resonance=1;break;case"highpass":this.cutoff=0,this.resonance=1;break;case"peaking":this.cutoff=.5,this.resonance=.5;break;case"bandpass":break;case"lowshelf":break;case"highshelf":break;case"notch":break;case"allpass":break;default:console.log("Invalid filter type")}this.filter.set({frequency:e.cutoffLogMapping(this.cutoff),type:this.filter_type})},setCutoff(){let e=this;this.filter.set({frequency:e.cutoffLogMapping(this.cutoff)}),console.log(this.type+" cutoff: "+this.cutoff.toFixed(2)+" - "+this.cutoffLogMapping(this.cutoff).toFixed(0)+" Hz")},setResonance(){let e=this;"lowshelf"===this.type||"highshelf"===this.type||"peaking"===this.type?(this.filter.set({gain:e.resonanceRangeNormalizer(1-e.resonance,this.type)}),console.log("Setting Peaking Resonance: "+e.resonanceRangeNormalizer(1-e.resonance,this.type))):"lowpass"!==this.type&&"highpass"!==this.type||(this.filter.set({Q:e.resonanceRangeNormalizer(1-e.resonance,this.type)}),console.log("Setting LowPass/HighPass Resonance: "+e.resonanceRangeNormalizer(1-e.resonance,this.type)))},connect(e){this.filter.connect(e)},getFilter(){return this.filter}},computed:{computedHeadStyle(){return{left:.7*this.cutoff*100+13.5+"%"}},computedGlow(){return"peaking"==this.filter_type&&this.resonance<.5?{opacity:1-2*this.resonance,background:"#e58138"}:"peaking"==this.filter_type&&this.resonance>=.5?{opacity:2*this.resonance-1,background:"#e58138"}:{opacity:1-this.resonance}},computedLP(){return{transform:"translateX("+(100*this.cutoff-100)+"%)"}},computedHP(){return{transform:"translateX("+100*this.cutoff+"%)"}},computedBDMaks(){let e="";return e=this.resonance>.5?"polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%)":this.resonance<.5?"polygon(0% 50%, 0% 100%, 100% 100%, 100% 50%)":"polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%)",{clipPath:e}},computedBD(){return 1-this.resonance>=.5?{height:100*(1-this.resonance)+"%",transform:"translateX("+100*this.cutoff+"%)"}:{height:100*(1-this.resonance-.5)+"%",transform:"translateX("+100*(this.cutoff-.5)+"%)"}},computedBDCircle(){return{transform:"translate("+100*(this.cutoff-.5)+"%, "+100*(this.resonance-.5)+"%)"}}}};const fe=(0,r.Z)(ge,[["render",me],["__scopeId","data-v-7ce0469a"]]);var ve=fe;const ye=["highpass","peaking","lowpass"];var we={ref:"FilterChain",components:{Filter:ve},props:["color","id"],data(){return{filterList:[],nFilters:3}},mounted(){for(let t=0;t<this.nFiltersXchain;t++)this.filterList.push({id:t,ref:"filter"+t,type:ye[t]});let e=this.$refs.chainHead;e.style.background=this.$props.color,e.style.clipPath="polygon(50% 40%, 80% 50%, 50% 60%, 50% 40%)"},methods:{handleFiltersMounted(){this.id===this.nFilterChains-1&&this.$emit("filterInitialized")},initConnections(){console.log("filter chain init connections");for(let e=0;e<this.nFiltersXchain-1;e++)this.filterChains[this.id][e].connect(this.filterChains[this.id][e+1]);for(let e=0;e<this.nFxChains;e++)this.filterChains[this.id][this.nFilters-1].connect(this.fxChains[e][0])}}};const _e=(0,r.Z)(we,[["render",oe],["__scopeId","data-v-e167cf44"]]);var ke=_e;const be=["red","green","blue"];var Me={name:"FilterHost",components:{FilterChain:ke},data(){return{chainList:[],nFilterChains:3}},mounted(){for(let e=0;e<this.nFilterChains;e++)this.chainList.push({id:e,ref:"chain"+e,color:be[e]})},methods:{initConnections(){for(let e in this.$refs)(0,Y.IU)(this.$refs[e][0]).initConnections();this.$emit("filterInitialized"),console.log("Filters initialised"),console.log("filters:"),console.log(this.filterChains),console.log("fx:"),console.log(this.fxChains)}}};const De=(0,r.Z)(Me,[["render",Q],["__scopeId","data-v-a1cc4ade"]]);var xe=De;const Ie={class:"fxHost"},Ce={class:"fxGrid"},Pe=(0,o.uE)('<div class="gainList" data-v-6903f0e0><div id="gain1" class="channelGain" data-v-6903f0e0></div><div id="gain2" class="channelGain" data-v-6903f0e0></div><div id="gain3" class="channelGain" data-v-6903f0e0></div><div id="gain4" class="channelGain" data-v-6903f0e0></div></div>',1);function Fe(e,t,s,i,n,a){const r=(0,o.up)("FxCell");return(0,o.wg)(),(0,o.iD)("div",Ie,[(0,o._)("div",Ce,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Fx_chain1,(e=>((0,o.wg)(),(0,o.j4)(r,{chainId:e.chainId,id:e.id,item:e},null,8,["chainId","id","item"])))),256)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Fx_chain2,(e=>((0,o.wg)(),(0,o.j4)(r,{chainId:e.chainId,id:e.id,item:e},null,8,["chainId","id","item"])))),256)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Fx_chain3,(e=>((0,o.wg)(),(0,o.j4)(r,{chainId:e.chainId,id:e.id,item:e},null,8,["chainId","id","item"])))),256)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Fx_chain4,(e=>((0,o.wg)(),(0,o.j4)(r,{chainId:e.chainId,id:e.id,item:e,onFxMounted:t[0]||(t[0]=e=>this.initFxConnections())},null,8,["chainId","id","item"])))),256))]),Pe])}var Le=s.p+"img/blizzard.23000ce3.svg",Ue=s.p+"img/drop.7b7c4620.svg",Oe=s.p+"img/fire.b4dfdadb.svg",Te=s.p+"img/moon.30640c34.svg",ze=s.p+"img/wind.5ef8dfcc.svg",Ne=s.p+"img/tornado.ee5aa595.svg";const je={class:"cell"},He={key:0},Se={key:1,src:Le,alt:""},Re={key:2,src:Ue,alt:""},$e={key:3,src:Oe,alt:""},Ee={key:4,src:Te,alt:""},Ve={key:5,src:ze,alt:""},We={key:6,src:Ne,alt:""};function Xe(e,t,s,n,a,r){return(0,o.wg)(),(0,o.iD)("div",je,[(0,o._)("div",{class:"icon",onClick:[t[0]||(t[0]=(...e)=>r.nextFx&&r.nextFx(...e)),t[1]||(t[1]=(0,i.iM)(((...e)=>r.setToBypass&&r.setToBypass(...e)),["shift"]))],onMousedown:t[2]||(t[2]=(...e)=>r.fxDown&&r.fxDown(...e))},[0===this.typeId?((0,o.wg)(),(0,o.iD)("div",He," +")):(0,o.kq)("",!0),1===this.typeId?((0,o.wg)(),(0,o.iD)("img",Se)):(0,o.kq)("",!0),2===this.typeId?((0,o.wg)(),(0,o.iD)("img",Re)):(0,o.kq)("",!0),3===this.typeId?((0,o.wg)(),(0,o.iD)("img",$e)):(0,o.kq)("",!0),4===this.typeId?((0,o.wg)(),(0,o.iD)("img",Ee)):(0,o.kq)("",!0),5===this.typeId?((0,o.wg)(),(0,o.iD)("img",Ve)):(0,o.kq)("",!0),6===this.typeId?((0,o.wg)(),(0,o.iD)("img",We)):(0,o.kq)("",!0)],32),(0,o._)("div",{class:"glow",style:(0,v.j5)(r.computedGlowStyle),onMousedown:t[3]||(t[3]=(...e)=>r.fxDown&&r.fxDown(...e))},null,36)])}class Ke{constructor({type:e="none",modulation:t=0}){this.type=e,this.effect=this.generateToneFx(e),this.mod=t,this.modulatorsPreset={envelope:{vol:{amount:1,signal:null},mod:{amount:0,signal:null},pitch:{amount:0,signal:null},pan:{amount:0,signal:null}},lfo:{vol:{amount:0,signal:null},mod:{amount:0,signal:null},pitch:{amount:0,signal:null},pan:{amount:0,signal:null}}}}getToneReference(){return this.effect}generateToneFx(e){let t;switch(e){case"none":t=new p.S9;break;case"reverb":t=this.createReverb();break;case"delay":t=this.createDelay();break;case"distortion":t=this.createDistortion();break;case"vibrato":t=this.createVibrato();break;case"pan":t=this.createPan();break;case"chorus":t=this.createChorus();break;default:t=new p.S9}return t}modulateFxParams({fx:e=this.effect,type:t=this.effect,mod:s=this.mod}){switch(t){case 1:e.set({decay:.1+5*s,wet:.1+.9*s});break;case 2:e.set({delayTime:.4*s,feedback:.95*s,wet:.1+.9*s});break;case 3:e.set({distortion:.05+.95*s,wet:.05+.95*s});break;case 4:e.set({depth:.5+.5*s,frequency:1+20*s,wet:.05+.95*s});break;case 5:let t=2*s-1;e.set({pan:t,wet:1}),console.log(t);break;case 6:e.set({depth:.5+.5*s,freq:2+8*s,feedback:.05+.9*s,type:"triangle"+(10*s).toString()});break;default:e=new p.S9}}createReverb(){let e=new p.E8;return e.set({decay:5,wet:.9}),e}createDelay(){let e=new p.D0;return e.set({delayTime:.15,feedback:.55,wet:.75}),e}createDistortion(){let e=new p.df;return e.set({distortion:.8,wet:.5}),e}createVibrato(){let e=new p.Z7;return e.set({depth:.85,frequency:3,wet:.95}),e}createPan(){let e=new p.fL;return e.set({pan:0,wet:1}),e}createChorus(){let e=new p.bK;return e.set({depth:1,frequency:5,spread:88,wet:1,feedback:.6,delayTime:220,type:"triangle6"}),e}createModulator(e){switch(e){case"envelope":return new p.wr;case"lfo":return new p.Fo;default:return console.log("Error creating modulator"),null}}modulatorSetter(e,t,s){switch(t){case"envelope":e.set({attack:s.attack,decay:s.decay,sustain:s.sustain,release:s.release});break;case"lfo":e.set({});break;default:console.log("Error setting modulator parameters, invalid args");break}}setModulatorParameters(e,t,s){this.initialized&&(this.modulatorsData[e][t].parameters=s,this.updateModulators())}connectModulator(e,t,s,i){switch(t){case"envelope":break;case"lfo":break;default:console.log("invalid modulator type");break}}connect(e){this.effect.connect(e)}disconnect(){this.effect.disconnect()}dispose(){this.effect.dispose()}}const qe=["none","reverb","delay","distortion","vibrato","pan","chorus"],Ae=["transparent","lightblue","deepskyblue","red","orange","darkorchid","yellow"];var Ye={props:["chainId","id"],data(){return{modulation:0,is_down:!1,typeId:0,volume:0}},mounted(){document.addEventListener("mouseup",this.onMouseup),document.addEventListener("mousemove",this.onMousemove),this.effect=new Ke({typeId:qe[this.typeId],modulation:this.modulation}),this.fxChains[this.chainId][this.id]=this.effect,this.chainId===this.nFxChains-1&&this.id===this.nFxXchain&&this.$emit("fxMounted")},computed:{computedGlowStyle(){return{opacity:100*(this.modulation+.3)+"%",background:Ae[this.typeId]}}},components:{isSVGTag:v.aN},methods:{nextFx(){this.typeId=this.generateNextTypeIndex();let e=qe[this.typeId];console.log(e),this.changeFxType(e)},changeFxType(e){this.effect.disconnect(),this.effect.dispose(),this.effect=new Ke({type:e,modulation:this.modulation}),this.fxChains[this.chainId][this.id]=this.effect,this.fxChains[this.chainId][this.id-1].connect(this.fxChains[this.chainId][this.id].getToneReference()),this.fxChains[this.chainId][this.id+1]?this.fxChains[this.chainId][this.id].connect(this.fxChains[this.chainId][this.id+1].getToneReference()):this.fxChains[this.chainId][this.id].connect((0,p.Y3)())},generateRandomTypeIndex(){return Math.round(10*Math.random()+1)%qe.length},generateNextTypeIndex(){return(this.typeId+1)%qe.length},setToBypass(){this.typeId=0,this.changeFxType("none"),console.log("set fx in position "+this.chainId+" - "+this.id+" to bypass")},fxDown(){this.is_down||(this.is_down=!0)},onMouseup(){this.is_down&&(this.is_down=!1)},onMousemove(e){this.is_down&&(e.movementY<0?this.modulation=Math.min(this.modulation-e.movementY/100,1):this.modulation=Math.max(this.modulation-e.movementY/100,0),this.effect.modulateFxParams({fx:this.effect,typeId:this.typeId,mod:this.modulation}),console.log(this.modulation))}}};const Ze=(0,r.Z)(Ye,[["render",Xe],["__scopeId","data-v-43cc3f96"]]);var Ge=Ze,Be={name:"FxHost",components:{FxCell:Ge},data(){return{Fx_chain1:[],Fx_chain2:[],Fx_chain3:[],Fx_chain4:[]}},mounted(){console.log("creating fx");for(let e=1;e<=this.nFxXchain;e++)this.Fx_chain1.push({id:e,ref:"Fx"+e,chainId:0}),this.Fx_chain2.push({id:e,ref:"Fx"+e+this.nFxXchain,chainId:1}),this.Fx_chain3.push({id:e,ref:"Fx"+e+2*this.nFxXchain,chainId:2}),this.Fx_chain4.push({id:e,ref:"Fx"+e+3*this.nFxXchain,chainId:3});this.fxChains[0][0]=new p.S9(1);for(let e=1;e<this.nFxChains;e++)this.fxChains[e][0]=new p.S9(0)},methods:{initFxConnections(){for(let e=0;e<this.nFxChains;e++){for(let t=0;t<this.nFxXchain;t++)this.fxChains[e][t].connect(this.fxChains[e][t+1].getToneReference());this.fxChains[e][this.nFxXchain].connect((0,p.Y3)())}},setChainVolume(e,t){this.fxChains[e][0].gain.rampTo(t,.1)}}};const Je=(0,r.Z)(Be,[["render",Fe],["__scopeId","data-v-6903f0e0"]]);var Qe=Je;const et={class:"toolsHost"};function tt(e,t,s,i,n,a){const r=(0,o.up)("SpecAnalyzer"),l=(0,o.up)("Oscilloscope"),d=(0,o.up)("Meter");return(0,o.wg)(),(0,o.iD)("div",et,[(0,o.Wm)(r),(0,o.Wm)(l,{ref:"oscilloscope"},null,512),(0,o.Wm)(d)])}const st=e=>((0,o.dD)("data-v-735a25ba"),e=e(),(0,o.Cn)(),e),it={class:"meter"},ot={class:"signalSum"},nt=st((()=>(0,o._)("div",null,null,-1)));function at(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",it,[(0,o._)("div",ot,[(0,o._)("div",{ref:"left",class:"signal",style:(0,v.j5)(a.computedWidthLeft)},null,4),nt,(0,o._)("div",{ref:"right",class:"signal",style:(0,v.j5)(a.computedWidthRight)},null,4)])])}var rt={data(){return{widthLeft:0,widthRight:0}},computed:{computedWidthLeft(){return{width:`${this.widthLeft}%`}},computedWidthRight(){return{width:`${this.widthRight}%`}}},mounted(){this.meter=new p.Yu({channels:2}),p.Y3().connect(this.meter),this.intervalId=setInterval((()=>{this.updateWidths()}),25)},methods:{updateWidths(){[this.leftVolume,this.rightVolume]=this.meter.getValue(),(isFinite(this.leftVolume)||isFinite(this.rightVolume))&&(this.widthLeft=Math.min(100*(0,p.xz)(this.leftVolume),100),this.widthRight=Math.min(100*(0,p.xz)(this.rightVolume),100))}},beforeDestroy(){this.meter.stop(),this.meter.dispose(),clearInterval(this.intervalId)}};const lt=(0,r.Z)(rt,[["render",at],["__scopeId","data-v-735a25ba"]]);var dt=lt;const ht={class:"oscilloscope"},ct={ref:"canvas",class:"oscilloscopeCanvas"};function ut(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",ht,[(0,o._)("canvas",ct,null,512)])}var pt={data(){return{oscilloscopeData:[],timing:10}},mounted(){this.oscilloscope=new p.uc,p.Y3().connect(this.oscilloscope),this.startOscilloscope(),this.canvas=this.$refs.canvas,this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.ctx=this.canvas.getContext("2d")},methods:{setTiming(e){this.timing=e,clearInterval(this.intervalId),this.startOscilloscope()},startOscilloscope(){this.intervalId=setInterval((()=>{this.updateOscilloscopeData()}),this.timing)},draw(e){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle="#658060",this.ctx.lineWidth=2,this.ctx.beginPath();for(let t=0;t<e.length;t++){let s=t*(this.canvas.width/e.length),i=this.canvas.height/2*(1-e[t]);this.ctx.moveTo(s,i),this.ctx.lineTo(s+this.canvas.width/e.length,i)}this.ctx.stroke(),this.ctx.moveTo(0,0)},updateOscilloscopeData(){this.oscilloscopeData=this.oscilloscope.getValue(),this.draw(this.oscilloscopeData)}},beforeDestroy(){this.oscilloscope.dispose()}};const mt=(0,r.Z)(pt,[["render",ut]]);var gt=mt;const ft={class:"spectral-analyzer"},vt={class:"analyzerCanvas",ref:"canvas"};function yt(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",ft,[(0,o._)("canvas",vt,null,512)])}var wt={data(){return{timing:10}},mounted(){this.analyser=new p.qk("fft",2048),this.canvasCtx=this.$refs.canvas.getContext("2d"),p.Y3().connect(this.analyser),this.startAnalyzer()},methods:{draw(){let e;this.data=this.analyser.getValue(),this.canvasCtx.strokeStyle="#658060",this.canvasCtx.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height);for(let t=0;t<this.data.length;t++)this.value=6*(0,p.xz)(this.data[t])*this.$refs.canvas.height,e=Math.log10(t)/Math.log10(2048)*this.$refs.canvas.width,this.canvasCtx.fillStyle="black",this.canvasCtx.fillRect(e,this.$refs.canvas.height-this.value,1,this.value)},startAnalyzer(){console.log(this.$refs.canvas.height),console.log("avviando analyzer con timer "+this.timing),this.intervalId=setInterval((()=>{this.draw()}),10)}},beforeDestroy(){}};const _t=(0,r.Z)(wt,[["render",yt]]);var kt=_t,bt={name:"ToolsHost",components:{Meter:dt,Oscilloscope:gt,SpecAnalyzer:kt},data(){return{}},mounted(){},beforeDestroy(){},methods:{setOscilloscopeTiming(e){let t=1/p.Di(e)*1e3;this.$refs["oscilloscope"].setTiming(t)}}};const Mt=(0,r.Z)(bt,[["render",tt]]);var Dt=Mt;const xt={class:"modHost"};function It(e,t,s,i,n,a){const r=(0,o.up)("Envelope"),l=(0,o.up)("ModSelector");return(0,o.wg)(),(0,o.iD)("div",xt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.modulatorList,(e=>((0,o.wg)(),(0,o.j4)(r,{key:e.id,onDragging:a.handleDragging,id:e.id,ref_for:!0,ref:"Modulators"},null,8,["onDragging","id"])))),128)),(0,o.Wm)(l,{nModulators:this.nModulators,onSelection:a.changeSelection,onDragging:a.handleDragging,ref:"EnvSelector"},null,8,["nModulators","onSelection","onDragging"])])}const Ct={ref:"container",class:"container hidden"},Pt={class:"envelope_container"},Ft={class:"knobs"};function Lt(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",Ct,[(0,o._)("div",Pt,[(0,o._)("div",{class:"envelope",style:(0,v.j5)(this.adsr)},[(0,o._)("div",{class:"attack_area",style:(0,v.j5)(a.attack_area),onMousedown:t[0]||(t[0]=e=>a.attack_down())},null,36),(0,o._)("div",{class:"attack_dot",style:(0,v.j5)(a.attack_dot),onMousedown:t[1]||(t[1]=e=>a.attack_down())},null,36),(0,o._)("div",{class:"decay_area",style:(0,v.j5)(a.decay_area),onMousedown:t[2]||(t[2]=e=>a.decay_down())},null,36),(0,o._)("div",{class:"decay_dot",style:(0,v.j5)(a.decay_dot),onMousedown:t[3]||(t[3]=e=>a.decay_down())},null,36),(0,o._)("div",{class:"sustain_area",style:(0,v.j5)(a.sustain_area),onMousedown:t[4]||(t[4]=e=>a.sustain_down())},null,36),(0,o._)("div",{class:"sustain_line",style:(0,v.j5)(a.sustain_line),onMousedown:t[5]||(t[5]=e=>a.sustain_down())},null,36),(0,o._)("div",{class:"release_area",style:(0,v.j5)(a.release_area),onMousedown:t[6]||(t[6]=e=>a.release_down())},null,36),(0,o._)("div",{class:"release_dot",style:(0,v.j5)(a.release_dot),onMousedown:t[7]||(t[7]=e=>a.release_down())},null,36),(0,o._)("div",{class:"attack",style:(0,v.j5)(this.attack)},[(0,o._)("div",{class:"attack_color",style:(0,v.j5)(this.attack_Color)},null,4)],4),(0,o._)("div",{class:"decay",style:(0,v.j5)(this.decay)},[(0,o._)("div",{class:"decay_head",style:(0,v.j5)(this.decay_head)},[(0,o._)("div",{class:"decay_color",style:(0,v.j5)(this.decay_Color)},null,4)],4),(0,o._)("div",{class:"decay_color",style:(0,v.j5)(this.decay_Color)},null,4)],4),(0,o._)("div",{class:"sustain",style:(0,v.j5)(this.sustain)},[(0,o._)("div",{class:"sustain_head",style:(0,v.j5)(this.sustain_head)},null,4),(0,o._)("div",{class:"sustain_color",style:(0,v.j5)(this.sustain_Color)},null,4)],4),(0,o._)("div",{class:"release",style:(0,v.j5)(this.release)},[(0,o._)("div",{class:"release_color",style:(0,v.j5)(this.release_Color)},null,4)],4),(0,o._)("div",{class:"time_strech",style:(0,v.j5)(this.time_Stretch)},null,4)],4)]),(0,o._)("div",Ft,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.knobList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,ref_for:!0,ref:e.ref,class:"knob"},(0,v.zw)(e.id),1)))),128))])],512)}s(5361);const Ut=2.5,Ot={red:{light:"lightcoral",medium:"red",dark:"darkred",glow:"pink"},yellow:{light:"yellow",medium:"orange",dark:"gold",glow:""},green:{light:"lightgreen",medium:"olive",dark:"darkgreen",glow:"aqua"},gray:{light:"lightgray",medium:"darkgray",dark:"black",glow:""},blue:{light:"lightblue",medium:"deepskyblue",dark:"darkblue",glow:"cyan"}};var Tt={props:["id"],data(){return{tempEvent:null,type:"envelope",parameters:{},knobList:[],is_attack_down:!1,is_decay_down:!1,is_sustain_down:!1,is_release_down:!1}},mounted(){this.parameters={attack:.1,attackCurve:"linear",decay:.5,decayCurve:"linear",sustain:.5,releaseCurve:"linear",release:1,scale:1};for(let e=0;e<9;e++)this.knobList.push({id:e,ref:"knob"+e});setTimeout((()=>{this.synths.list.forEach((e=>{e.setModulatorParameters("envelope","vol",this.parameters)}))}),500)},methods:{unHide(){this.$refs.container.classList.remove("hidden")},hide(){this.$refs.container.classList.add("hidden")},handleMouseMove(e){this.isDragging&&(this.tempEvent=e);let t=this.parameters;this.is_attack_down&&(e.movementX>0&&(console.log(this.parameters.attack,Ut*t.scale-(t.attack+t.release+t.sustain)),t.attack=Math.min(t.attack+e.movementX/100,Ut*t.scale-(t.decay+t.release+t.sustain))),e.movementX<0&&(console.log(t.attack),t.attack=Math.max(t.attack+e.movementX/100,0))),this.is_decay_down&&(e.movementX>0&&(console.log(this.parameters.decay),t.decay=Math.min(t.decay+e.movementX/100,Ut*t.scale-(t.attack+t.release+t.sustain))),e.movementX<0&&(console.log(t.decay),t.decay=Math.max(t.decay+e.movementX/100,0))),this.is_sustain_down&&(e.movementY>0?t.sustain=Math.max(t.sustain-e.movementY/100,0):e.movementY<0&&(t.sustain=Math.min(t.sustain-e.movementY/100,1)),console.log(t.sustain)),this.is_release_down&&(e.movementX>0&&(t.release=Math.min(t.release+e.movementX/100,Ut*t.scale-(t.attack+t.decay+t.sustain))),e.movementX<0&&(t.release=Math.max(t.release+e.movementX/100,0))),(this.is_attack_down||this.is_decay_down||this.is_sustain_down||this.is_release_down)&&this.synths.list.forEach((e=>{e.setModulatorParameters("envelope","vol",this.parameters)}))},handleMouseUp(){console.log("mouseUp"),this.is_attack_down=!1,this.is_decay_down=!1,this.is_sustain_down=!1,this.is_release_down=!1},attack_down(){this.is_attack_down||(this.is_attack_down=!0)},decay_down(){this.is_decay_down||(this.is_decay_down=!0)},sustain_down(){this.is_sustain_down||(this.is_sustain_down=!0)},release_down(){this.is_release_down||(this.is_release_down=!0)}},computed:{adsr(){let e=this.parameters.attack,t=this.parameters.decay,s=this.parameters.release,i=.2,o=e/Ut*(100-i/Ut),n=t/Ut*(100-i/Ut),a=s/Ut*(100-i/Ut),r=(Ut-(e+i+t+s))/Ut*100;return{display:"grid",gridTemplateColumns:+o.toFixed(1)+"% "+n.toFixed(1)+"% "+i/Ut*100+"% "+a.toFixed(1)+"0% "+r.toFixed(2)+"% ",gridTemplateRows:"88% 12%"}},attack(){return{height:"100%",width:"101%",clipPath:"polygon(0% 100%, 100% 0%, 100% 100%)"}},attack_Color(){return{height:"100%",background:Ot.red.dark}},decay(){return{display:"grid",gridTemplateRows:100*(1-this.parameters.sustain)+"% "+100*this.parameters.sustain+"%",height:"100%"}},decay_head(){return{background:Ot.red.medium,clipPath:"polygon(0% 0%, 100% 100%, 0% 100%)",height:"101%",width:"100%"}},decay_Color(){return{height:"100%",background:Ot.red.medium}},sustain(){return{display:"grid",gridTemplateRows:100*(1-this.parameters.sustain)+"% "+100*this.parameters.sustain+"%",height:"100%"}},sustain_head(){return{background:"transparent"}},sustain_Color(){return{height:"100%",background:Ot.red.light}},release(){return{height:"100%",clipPath:"polygon(0% "+100*(1-this.parameters.sustain)+"%, 0% 100%, 100% 100%)"}},release_Color(){return{height:"100%",background:Ot.red.glow}},space(){return{background:"transparent"}},attack_area(){let e=this.parameters.attack,t=.2,s=e/Ut*100-t/Ut;return{background:"transparent",aspectRatio:"1/1",width:"10%",position:"absolute",zIndex:"2",borderRadius:"50%",left:s-5+"%",clipPath:"circle(80%)"}},decay_area(){let e=this.parameters.attack,t=this.parameters.decay,s=.2,i=e/Ut*(100-s/Ut),o=t/Ut*(100-s/Ut);return{background:"transparent",aspectRatio:"1/1",width:"10%",position:"absolute",zIndex:"2",borderRadius:"50%",left:o+i-5+"%",top:100*(1-this.parameters.sustain)-20+"%"}},sustain_area(){let e=this.parameters.attack,t=this.parameters.decay,s=(this.parameters.release,.2),i=e/Ut*(100-s/Ut),o=t/Ut*(100-s/Ut);return{background:"transparent",aspectRatio:"16/9",width:"10%",position:"absolute",zIndex:"2",borderRadius:"50%",left:i+o+s/Ut*100-5+"%",top:100*(1-this.parameters.sustain)-12+"%"}},release_area(){let e=this.parameters.attack,t=this.parameters.decay,s=this.parameters.release,i=.2,o=e/Ut*(100-i/Ut),n=t/Ut*(100-i/Ut),a=s/Ut*(100-i/Ut);return{background:"transparent",aspectRatio:"1/1",width:"10%",position:"absolute",zIndex:"2",borderRadius:"50%",left:o+n+i/Ut*100+a-5+"%",top:"70%"}},attack_dot(){let e=this.parameters.attack,t=.2,s=e/Ut*100-t/Ut;return{background:Ot.red.dark,aspectRatio:"1/1",width:"2%",position:"absolute",zIndex:"2",borderRadius:"50%",left:s-1+"%",top:"-2%"}},decay_dot(){let e=this.parameters.attack,t=this.parameters.decay,s=.2,i=e/Ut*(100-s/Ut),o=t/Ut*(100-s/Ut);return{background:Ot.red.medium,aspectRatio:"1/1",width:"2%",position:"absolute",zIndex:"2",borderRadius:"50%",left:o+i-1+"%",top:88*(1-this.parameters.sustain)-2+"%"}},sustain_line(){let e=this.parameters.attack,t=this.parameters.decay,s=(this.parameters.release,.2),i=e/Ut*(100-s/Ut),o=t/Ut*(100-s/Ut);return{background:Ot.gray.dark,aspectRatio:"16/9",width:"1.8%",aspectRatio:"1/1",position:"absolute",zIndex:"2",borderRadius:"50%",left:i+o+s/Ut*100-5+"%",top:88*(1-this.parameters.sustain)-2+"%"}},release_dot(){let e=this.parameters.attack,t=this.parameters.decay,s=this.parameters.release,i=.2,o=e/Ut*(100-i/Ut),n=t/Ut*(100-i/Ut),a=s/Ut*(100-i/Ut);return{background:Ot.red.glow,aspectRatio:"1/1",width:"2%",position:"absolute",zIndex:"2",borderRadius:"50%",left:o+n+i/Ut*100+a-1+"%",top:"84%"}},time_Stretch(){return{}}}};const zt=(0,r.Z)(Tt,[["render",Lt],["__scopeId","data-v-3268d948"]]);var Nt=zt;const jt={class:"buttonList"},Ht=["onClick"],St=["onMousedown"];function Rt(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",jt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.buttonList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,ref_for:!0,ref:e.ref,class:"button"},[(0,o._)("div",{class:"identifier",onClick:t=>a.handleClick(e.id)},(0,v.zw)(e.id),9,Ht),(0,o._)("div",{class:"draggableArea",onMousedown:t=>a.handleMouseDown(e.id)},"X",40,St)])))),128))])}var $t={props:["nModulators"],data(){return{buttonList:[]}},mounted(){for(let e=0;e<this.nModulators;e++)this.buttonList.push({id:e,ref:"button"+e})},methods:{handleClick(e){this.$emit("selection",e)},handleMouseDown(e){this.$emit("dragging",e)}}};const Et=(0,r.Z)($t,[["render",Rt],["__scopeId","data-v-8997112a"]]);var Vt=Et,Wt={components:{Envelope:Nt,ModSelector:Vt},data(){return{name:"modHost",nModulators:6,selection:0,modulatorList:[]}},created(){for(let e=0;e<this.nModulators;e++)this.modulatorList.push({id:e,ref:e})},mounted(){(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection]).unHide()},methods:{handleMouseUp(e){(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection]).handleMouseUp(e)},handleMouseMove(e){(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection]).handleMouseMove(e)},changeSelection(e){console.log("selected "+e),console.log((0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection])),(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection]).hide(),this.selection=e,console.log("selected "+this.selection),(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[this.selection]).unHide()},handleDragging(e){let t=[e];t.unshift(this.name);let s=(0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[e]).type,i=(0,Y.IU)((0,Y.IU)((0,Y.IU)(this.$refs.Modulators)[e]).parameters);this.$emit("dragging",{type:"dragging",path:t,modType:s,params:i})}}};const Xt=(0,r.Z)(Wt,[["render",It],["__scopeId","data-v-57c6f4c9"]]);var Kt=Xt;const qt={class:"container"},At={class:"container"},Yt={class:"container"};function Zt(e,t,s,i,n,a){const r=(0,o.up)("Octave"),l=(0,o.up)("MIDIKeyboard");return(0,o.wg)(),(0,o.iD)("div",{class:"span",onMouseleave:t[0]||(t[0]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t))},[(0,o._)("div",qt,[(0,o.Wm)(r,{ref:"oct1",octaveNumber:1,onVirtualKeyDown:a.handleNoteDown,onVirtualKeyUp:a.handleNoteUp},null,8,["onVirtualKeyDown","onVirtualKeyUp"])]),(0,o._)("div",At,[(0,o.Wm)(r,{ref:"oct2",octaveNumber:2,onVirtualKeyDown:a.handleNoteDown,onVirtualKeyUp:a.handleNoteUp},null,8,["onVirtualKeyDown","onVirtualKeyUp"])]),(0,o._)("div",Yt,[(0,o.Wm)(r,{ref:"oct3",octaveNumber:3,onVirtualKeyDown:a.handleNoteDown,onVirtualKeyUp:a.handleNoteUp},null,8,["onVirtualKeyDown","onVirtualKeyUp"])]),(0,o.Wm)(l,{onMIDIDown:a.handleMIDIDown,onMIDIUp:a.handleMIDIUp},null,8,["onMIDIDown","onMIDIUp"])],32)}function Gt(e,t,s,i,o,n){return null}var Bt={data(){return{midiAccess:null,midiInput:null,notes:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],lowestOctave:-2}},mounted(){navigator.requestMIDIAccess().then((e=>{e.inputs.size>0?(this.midiAccess=e,this.midiInput=e.inputs.values().next().value,console.log(this.midiInput),this.midiInput.addEventListener("midimessage",this.handleMidiMessage)):console.log("There are no MIDI inputs available, if you need MIDI, reload the page with a MIDI keyboard connected")}))},methods:{handleMidiMessage(e){let[t,s,i]=e.data,o=this.notes[s%12],n=this.lowestOctave+parseInt(s/12,10);144==t?this.$emit("MIDIDown",o,n,i):128==t&&this.$emit("MIDIUp",o,n)}}};const Jt=(0,r.Z)(Bt,[["render",Gt]]);var Qt=Jt;const es={class:"woctave"},ts={class:"boctave"};function ss(e,t,s,i,n,a){return(0,o.wg)(),(0,o.iD)("div",{class:"octave",onMousedown:t[12]||(t[12]=(...e)=>a.handleMouseDown&&a.handleMouseDown(...e)),onMouseup:t[13]||(t[13]=(...e)=>a.handleMouseUp&&a.handleMouseUp(...e)),onMouseover:t[14]||(t[14]=(...e)=>a.handleMouseOver&&a.handleMouseOver(...e))},[(0,o._)("div",es,[(0,o._)("div",{id:"C",ref:"C",onMouseleave:t[0]||(t[0]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"D",ref:"D",onMouseleave:t[1]||(t[1]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"E",ref:"E",onMouseleave:t[2]||(t[2]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"F",ref:"F",onMouseleave:t[3]||(t[3]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"G",ref:"G",onMouseleave:t[4]||(t[4]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"A",ref:"A",onMouseleave:t[5]||(t[5]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544),(0,o._)("div",{id:"B",ref:"B",onMouseleave:t[6]||(t[6]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"wkey wUnpressed"},null,544)]),(0,o._)("div",ts,[(0,o._)("div",{id:"C#",ref:"Cs",onMouseleave:t[7]||(t[7]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"bkey bUnpressed",style:{"grid-column":"3 / 5"}},null,544),(0,o._)("div",{id:"D#",ref:"Ds",onMouseleave:t[8]||(t[8]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"bkey bUnpressed",style:{"grid-column":"6 / 8"}},null,544),(0,o._)("div",{id:"F#",ref:"Fs",onMouseleave:t[9]||(t[9]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"bkey bUnpressed",style:{"grid-column":"12 / 14"}},null,544),(0,o._)("div",{id:"G#",ref:"Gs",onMouseleave:t[10]||(t[10]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"bkey bUnpressed",style:{"grid-column":"15 / 17"}},null,544),(0,o._)("div",{id:"A#",ref:"As",onMouseleave:t[11]||(t[11]=(...e)=>a.handleMouseLeave&&a.handleMouseLeave(...e)),class:"bkey bUnpressed",style:{"grid-column":"18 / 20"}},null,544)])],32)}var is={name:"Octave",props:{octaveNumber:Number},data(){return{}},methods:{handleMouseLeave(e){this.$parent.mouseDown&&this.notifyUp(e.currentTarget)},handleMouseUp(e){this.$parent.mouseDown=!1,this.notifyUp(e.target)},handleMouseDown(e){this.$parent.mouseDown=!0,this.notifyDown(e.target)},handleMouseOver(e){this.$parent.mouseDown&&this.notifyDown(e.target)},notifyDown(e){this.$emit("virtualKeyDown",e.id,this.octaveNumber),this.switchColorPress(e.id)},switchColorPress(e){e.includes("#")&&(e=e.replace("#","s"));let t=this.$refs[e];t.classList.contains("wkey")?(t.classList.remove("wUnpressed"),t.classList.add("pressed")):(t.classList.remove("bUnpressed"),t.classList.add("pressed"))},notifyUp(e){this.$emit("virtualKeyUp",e.id,this.octaveNumber),this.switchColorRelease(e.id)},switchColorRelease(e){if("all"===e)for(const t of Object.values(this.$refs))t.classList.contains("wkey")?(t.classList.add("wUnpressed"),t.classList.remove("pressed")):(t.classList.add("bUnpressed"),t.classList.remove("pressed"));else{e.includes("#")&&(e=e.replace("#","s"));let t=this.$refs[e];t.classList.contains("wkey")?(t.classList.add("wUnpressed"),t.classList.remove("pressed")):(t.classList.add("bUnpressed"),t.classList.remove("pressed"))}}}};const os=(0,r.Z)(is,[["render",ss]]);var ns=os,as={name:"PianoKeyboard",components:{Octave:ns,MIDIKeyboard:Qt},data(){return{ocTranspose:1,keysDown:{},keys:"awsedftgyhujkolp",notes:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],keyboardTranspose:0,mouseDown:!1}},mounted(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},methods:{handleMouseUp(){this.mouseDown=!1},handleKeyDown(e){if(!this.keysDown[e.key]&&this.keys.includes(e.key)){let t=this.notes[this.keys.indexOf(e.key)%12],s=parseInt(this.keys.indexOf(e.key)/12,10);this.handleNoteDown(t,2+s+this.keyboardTranspose,100),this.keysDown[e.key]=!0,2+s+this.keyboardTranspose>0&&2+s+this.keyboardTranspose<4&&this.$refs["oct"+(2+s+this.keyboardTranspose)].switchColorPress(t)}this.keysDown[e.key]||"z"!=e.key||(this.keyboardTranspose=this.keyboardTranspose-1),this.keysDown[e.key]||"x"!=e.key||(this.keyboardTranspose=this.keyboardTranspose+1)},handleKeyUp(e){if(this.keysDown[e.key]){let t=this.notes[this.keys.indexOf(e.key)%12],s=parseInt(this.keys.indexOf(e.key)/12,10);this.handleNoteUp(t,2+s+this.keyboardTranspose),this.keysDown[e.key]=!1,2+s+this.keyboardTranspose>0&&2+s+this.keyboardTranspose<4&&this.$refs["oct"+(2+s+this.keyboardTranspose)].switchColorRelease(t)}},handleMIDIDown(e,t,s){t>0&&t<4&&this.$refs["oct"+t].switchColorPress(e),this.synths.list.forEach((i=>{console.log("Play note: "+(e+t)+" at velocity: "+s+" from MIDI"),i.playNote(e+t,s)})),this.$emit("noteDown",e)},handleMIDIUp(e,t){t>0&&t<4&&this.$refs["oct"+t].switchColorRelease(e),this.synths.list.forEach((s=>{s.stopNote(e+t)}))},handleNoteDown(e,t,s=100){let i=parseInt(t)+this.ocTranspose;this.synths.list.forEach((t=>{t.playNote(e+i,s)})),this.$emit("noteDown",e+i)},handleNoteUp(e,t){let s=parseInt(t)+this.ocTranspose;this.synths.list.forEach((t=>{t.stopNote(e+s)}))}}};const rs=(0,r.Z)(as,[["render",Zt]]);var ls=rs,ds={name:"mainHost",components:{OscHost:B,FilterHost:xe,FxHost:Qe,ToolHost:Dt,ModHost:Kt,PianoKeyboard:ls},data(){return{draggedInfo:null}},mounted(){p.J7.start("+0.1")},methods:{initOscConnections(){this.$refs.oscHost.initConnections()},initFilterConnections(){console.log("main host init filter-fx connections")},handleClaim(e){if(this.draggedInfo){let t=e.path[1];this.deleteDraggedInfo(t)}},handleDragging(e){this.draggedInfo=e},deleteDraggedInfo(e){this.draggedInfo&&(console.log("draggingInfo "+this.draggedInfo.path[1]+" deleted by "+e),this.draggedInfo=null)},handleMouseUp(e){this.$refs.pianoKeyboard.handleMouseUp(),this.$refs.modHost.handleMouseUp(e),this.draggedInfo&&setTimeout((()=>this.deleteDraggedInfo("MainHost")),100)},handleMouseMove(e){this.$refs.modHost.handleMouseMove(e)},noteDownHandle(e){this.$refs["toolsHost"].setOscilloscopeTiming(e)},noteUpHandle(e){}}};const hs=(0,r.Z)(ds,[["render",u]]);var cs=hs;const us=[{path:"/",name:"synth",component:cs},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,4729))}],ps=(0,h.p7)({history:(0,h.PO)("/"),routes:us});var ms=ps;const gs=(0,i.ri)(d).use(ms);gs.config.globalProperties.synths={list:[]},gs.config.globalProperties.nFilterChains=3,gs.config.globalProperties.nFiltersXchain=3,gs.config.globalProperties.areFiltersMounted=!1,gs.config.globalProperties.nFxChains=4,gs.config.globalProperties.nFxXchain=5,gs.config.globalProperties.areFxMounted=!1,gs.config.globalProperties.nModulators=3,gs.config.globalProperties.nEnvelopes=3,gs.config.globalProperties.nLFO=3,gs.config.globalProperties.polyphonyVoices=16,gs.config.globalProperties.filterChains=Array(gs.config.globalProperties.nFilterChains);for(let fs=0;fs<gs.config.globalProperties.nFilterChains;fs++)gs.config.globalProperties.filterChains[fs]=Array(gs.config.globalProperties.nFiltersXchain);gs.config.globalProperties.fxChains=Array(gs.config.globalProperties.nFxChains);for(let fs=0;fs<gs.config.globalProperties.nFxChains;fs++)gs.config.globalProperties.fxChains[fs]=Array(gs.config.globalProperties.nFxXchain+1);gs.mount("#app")}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,n){if(!i){var a=1/0;for(h=0;h<e.length;h++){i=e[h][0],o=e[h][1],n=e[h][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<a&&(a=n));if(r){e.splice(h--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[i,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/about.621be761.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="actam:";s.l=function(i,o,n,a){if(e[i])e[i].push(o);else{var r,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),h=0;h<d.length;h++){var c=d[h];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+n){r=c;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+n),r.src=i),e[i]=[o];var u=function(t,s){r.onerror=r.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.f.j=function(t,i){var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var n=new Promise((function(s,i){o=e[t]=[s,i]}));i.push(o[2]=n);var a=s.p+s.u(t),r=new Error,l=function(i){if(s.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",r.name="ChunkLoadError",r.type=n,r.request=a,o[1](r)}};s.l(a,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,a=i[0],r=i[1],l=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var h=l(s)}for(t&&t(i);d<a.length;d++)n=a[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(h)},i=self["webpackChunkactam"]=self["webpackChunkactam"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(4471)}));i=s.O(i)})();
//# sourceMappingURL=app.9e83df5a.js.map